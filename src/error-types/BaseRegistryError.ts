import { BaseError } from '../index'
import { LowLevelError } from '../interfaces'

/**
 * Improved error class generated by the ErrorRegistry.
 * Takes in a Low Level Error definition and adapts it to
 * a BaseError.
 */
export class BaseRegistryError extends BaseError {
  constructor (lowLevelError: LowLevelError) {
    super(lowLevelError.message)
    this._safeMetadata.code = lowLevelError.code

    if (lowLevelError.codeNo) {
      this._safeMetadata.codeNo = lowLevelError.codeNo
    }

    if (lowLevelError.statusCode) {
      this._safeMetadata.statusCode = lowLevelError.statusCode
    }
  }
}
